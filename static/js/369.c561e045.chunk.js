"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[369],{7616:function(e,r,t){t.d(r,{_:function(){return h}});var n="MovieGalleryItem_gallery__item__2fqRX",a="MovieGalleryItem_gallery__item__img__kSSKK",i="MovieGalleryItem_gallery__item__info__UbHeZ",c="MovieGalleryItem_gallery__item__title__gGp18",s="MovieGalleryItem_gallery__item__rating__TTbQw",l=t(1087),o=t(7689),u=t(184),h=function(e){var r=e.id,t=e.img,h=e.title,p=e.rating,d=(0,o.TH)();return(0,u.jsxs)("li",{id:r,className:n,children:[(0,u.jsx)(l.rU,{to:"/movies/".concat(r),state:{from:d},children:(0,u.jsx)("img",{className:a,src:"https://image.tmdb.org/t/p/original/".concat(t),alt:h})}),(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("p",{className:c,children:h}),(0,u.jsx)("span",{className:s,children:p.toFixed(1)})]})]})}},4369:function(e,r,t){t.r(r),t.d(r,{default:function(){return M}});var n,a=t(5861),i=t(9439),c=t(4687),s=t.n(c),l=t(168),o=t(2791),u={search__wrapper:"Search_search__wrapper__kgbuK",search__input:"Search_search__input__k7uZ1",search__icon:"Search_search__icon__MuMsw"},h=t(4934),p=t(7670),d=t(5705),_=["title","titleId"];function f(){return f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},f.apply(this,arguments)}function m(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function v(e,r){var t=e.title,a=e.titleId,i=m(e,_);return o.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",ref:r,"aria-labelledby":a},i),t?o.createElement("title",{id:a},t):null,n||(n=o.createElement("path",{d:"M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"})))}var y,g=o.forwardRef(v),x=(t.p,t(184)),b=function(e){var r=e.title,t=e.children,n=e.onClick,a=e.type,i=e.className;return(0,x.jsxs)("button",{type:a,onClick:n,className:i,children:[r,t]})},w={query:""},j=(0,p.Ry)({query:(0,p.Z_)().min(1,"At least some letter should be!")}),k=h.Z.p(y||(y=(0,l.Z)(["\n  color: red;\n  font-size: 1.2rem;\n  margin:0;\n"]))),Z=function(e){var r=e.name;return(0,x.jsx)(d.Bc,{name:r,render:function(e){return(0,x.jsx)(k,{children:e})}})},C=function(e){var r=e.setQuery,t=void 0===r?function(){return null}:r;return(0,x.jsx)("div",{className:u.search,children:(0,x.jsx)(d.J9,{initialValues:w,validationSchema:j,onSubmit:function(e,r){var n=r.resetForm,a=e.query;""!==a.trim()?(t({query:a.trim()}),n()):alert("Enter search param!")},children:(0,x.jsxs)(d.l0,{autoComplete:"off",className:u.search__wrapper,children:[(0,x.jsx)(b,{className:u.search__icon,type:"submit",children:(0,x.jsx)(g,{width:"20",heigth:"20",fill:"black"})}),(0,x.jsx)(d.gN,{className:u.search__input,name:"query",type:"text",placeholder:"Search the movies..."}),(0,x.jsx)(Z,{name:"query"})]})})})},N=t(1087),S=t(1896),q=t(7616),O=t(2613),M=function(){var e,r=(0,o.useState)([]),t=(0,i.Z)(r,2),n=t[0],c=t[1],l=(0,o.useState)(!1),u=(0,i.Z)(l,2),h=u[0],p=u[1],d=(0,N.lr)(),_=(0,i.Z)(d,2),f=_[0],m=_[1],v=f.get(null!==(e="query")?e:"");function y(){return(y=(0,a.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,(0,S.XT)({query:v,endpoint:S.bj.search});case 4:r=e.sent,t=r.results,c(t),p(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){v&&function(){y.apply(this,arguments)}()}),[v]),(0,x.jsxs)("main",{children:[(0,x.jsx)(C,{setQuery:m}),0===n.length||h?v&&!h&&(0,x.jsx)("div",{children:"There are no results according you search!"}):(0,x.jsx)("ul",{className:O.Z.gallery,children:n.map((function(e){var r=e.id,t=e.title,n=e.poster_path,a=e.vote_average;return(0,x.jsx)(q._,{id:r,img:n,title:t,rating:a},r)}))})]})}},1896:function(e,r,t){t.d(r,{XT:function(){return h},bj:function(){return u},d0:function(){return p}});var n=t(5861),a=t(4687),i=t.n(a),c=t(1243),s=t(1686),l=t.n(s);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o="af1ce8cf17bdf1608b8338f3be4c63e7",u={trend:"trending/movie/day",search:"search/movie",credit:"/credits",review:"/reviews"},h=function(){var e=(0,n.Z)(i().mark((function e(){var r,t,n,a,s,u,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:{},t=r.query,n=void 0===t?"":t,a=r.endpoint,s=void 0===a?"":a,e.prev=1,e.next=4,c.Z.get("".concat(s,"?")+new URLSearchParams({query:"".concat(n),api_key:o}));case 4:return u=e.sent,e.abrupt("return",u.data);case 8:e.prev=8,e.t0=e.catch(1),l().Notify.failure(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(i().mark((function e(){var r,t,n,a,s,u,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>0&&void 0!==h[0]?h[0]:{},t=r.searchBy,n=void 0===t?"":t,a=r.id,s=void 0===a?"":a,e.prev=1,e.next=4,c.Z.get("movie/".concat(s).concat(n,"?")+new URLSearchParams({api_key:o}));case 4:return u=e.sent,e.abrupt("return",u.data);case 8:e.prev=8,e.t0=e.catch(1),l().Notify.failure(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},2613:function(e,r){r.Z={gallery:"MovieGallery_gallery__BuC0T"}}}]);
//# sourceMappingURL=369.c561e045.chunk.js.map